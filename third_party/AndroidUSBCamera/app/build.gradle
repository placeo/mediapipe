plugins {
    id 'com.android.application'
    id 'kotlin-android'
}

android {
    compileSdkVersion libs.versions.compileSdk.get().toInteger()
    namespace 'com.jiangdg.demo'

    defaultConfig {
        applicationId 'com.jiangdg.ausbc'
        minSdkVersion libs.versions.minSdk.get().toInteger()
        targetSdkVersion libs.versions.targetSdk.get().toInteger()
        versionCode 126
        versionName '3.3.3'

        ndk {
            abiFilters 'armeabi-v7a', 'arm64-v8a' // x86, x86_64 still in progress
        }
    }

    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
            signingConfig signingConfigs.debug
        }
    }

    compileOptions {
        sourceCompatibility JavaVersion.toVersion(libs.versions.jvmTarget.get())
        targetCompatibility JavaVersion.toVersion(libs.versions.jvmTarget.get())
    }

    kotlinOptions {
        jvmTarget = libs.versions.jvmTarget.get()
    }

    buildFeatures {
        viewBinding true
        compose true
    }

    composeOptions {
        kotlinCompilerExtensionVersion '1.5.5'
    }

    lintOptions {
        abortOnError false
    }
}

dependencies {
    implementation libs.androidx.appcompat
    implementation libs.androidx.core.ktx
    implementation libs.material
    implementation libs.androidx.constraintlayout
    implementation libs.kotlinx.coroutines.android
    implementation libs.androidx.lifecycle.viewmodel.ktx
    implementation libs.androidx.lifecycle.livedata.ktx
    implementation libs.lifecycle.runtime.ktx
    implementation libs.baseRecyclerViewAdapterHelper
    implementation libs.core
    implementation libs.timber

    implementation platform(libs.androidx.compose.bom)
    implementation libs.androidx.ui
    implementation libs.androidx.material
    implementation libs.androidx.foundation
    implementation libs.androidx.activity.compose
    implementation project(':libausbc')
    implementation libs.androidx.navigation.runtime.ktx
    implementation libs.androidx.navigation.compose
    implementation libs.androidx.material3.android
}